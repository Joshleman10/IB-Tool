<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IB Tools Dashboard</title>
  
  <!-- Environment Detection Script -->
  <script>
    // Auto-detect environment and set base path
    const isLocal = window.location.hostname === 'localhost' || 
                    window.location.hostname === '127.0.0.1' || 
                    window.location.hostname === '';
    const basePath = isLocal ? '' : '/IB-Tool';
    
    // Function to create path-aware links
    function createLink(href, rel = 'stylesheet') {
      const link = document.createElement('link');
      link.rel = rel;
      link.href = basePath + href;
      document.head.appendChild(link);
    }
    
    // Create CSS links
    createLink('/shared/sidebar.css');
    createLink('/styles.css');
  </script>
</head>

<body>
  <div id="sidebar-container"></div>

  <div class="main">
    <div id="view-home" class="view">
      <h1>üè† Inbound Department Metrics Dashboard</h1>
      <div class="dashboard-welcome">
        <p>Welcome to the comprehensive Inbound Department analysis toolkit.</p>
        <p>Select a tool from the left menu to get started with your analysis:</p>
        
        <div class="tool-overview">
          <div class="tool-card">
            <h3>üìä Air vs Ground Analyzer</h3>
            <p>Analyze transaction distribution between air and ground locations with cart optimization insights.</p>
          </div>
          
          <div class="tool-card">
            <h3>üì¶ PPA Check</h3>
            <p>Perform VAS/RT/CART PPA analysis and validation.</p>
          </div>
          
          <div class="tool-card">
            <h3>‚úÖ Hours Breakdown</h3>
            <p>Break down and compare labor hours across different functions and time periods.</p>
          </div>
          
          <div class="tool-card">
            <h3>üì∑ Snapshot Analyzer</h3>
            <p>Comprehensive operational snapshot analysis with KPI dashboard and insights.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Remove the placeholder views since you're using folder-based navigation -->
    <!-- The actual tools are in their respective folders -->
  </div>

  <script>
    // Global navigation function for sidebar
    window.navigateToTool = function(path) {
      if (path === '') {
        // Home page
        window.location.href = basePath + '/';
      } else {
        // Tool pages
        window.location.href = basePath + '/' + path;
      }
    };

    fetch(basePath + "/shared/sidebar.html")
      .then(res => res.text())
      .then(html => {
        document.getElementById("sidebar-container").innerHTML = html;
      });

    // Remove the hash routing since you're using folder-based navigation
    // If you want to keep it for future use, you can add it back later
  </script>
</body>

</html>